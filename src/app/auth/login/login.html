<section class="login-container">
    <div class="container d-flex justify-content-center align-items-center vh-100">
        <mat-card class="p-4 shadow-sm" style="max-width: 400px; width: 100%">
            <mat-card-header class="justify-content-center mb-3">
                <mat-card-title class="h3 fw-bold">Login</mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <form [formGroup]="loginForm">
                    <mat-form-field appearance="outline" class="w-100 mb-3">
                        <mat-label>Email Address</mat-label>
                        <input matInput placeholder="pat@example.com" type="email" formControlName="email" />
                        <mat-icon matPrefix class="me-2 text-secondary">email</mat-icon>
                        @if (loginForm.controls['email'].invalid) {
                        <mat-error>{{
                            loginForm.controls['email'].hasError('email')
                            ? 'Please enter a valid email!'
                            : 'Email is required!'
                            }}</mat-error>
                        }
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="w-100 mb-2">
                        <mat-label>Password</mat-label>
                        <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" />
                        <mat-icon matPrefix class="me-2 text-secondary">lock</mat-icon>
                        <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" type="button">
                            <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                        </button>
                        @if (loginForm.controls['password'].invalid) {
                        <mat-error>{{ loginForm.controls['password'].hasError('minlength') ? 'Minimum length of password
                            should be 8': 'Password is required!'
                            }}</mat-error>
                        }
                    </mat-form-field>

                    <button mat-flat-button color="primary" class="w-100 py-3 mb-3 fs-6" type="submit"
                        [disabled]="!loginForm.valid">
                        Login
                    </button>
                </form>

                <div class="d-flex align-items-center my-3">
                    <hr class="flex-grow-1" />
                    <span class="px-2 text-muted small">OR</span>
                    <hr class="flex-grow-1" />
                </div>

                <button mat-stroked-button class="w-100 py-3 d-flex align-items-center justify-content-center"
                    (click)="loginWithGoogle()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 48 48" class="me-2">
                        <path fill="#FFC107"
                            d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z" />
                        <path fill="#FF3D00"
                            d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z" />
                        <path fill="#4CAF50"
                            d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z" />
                        <path fill="#1976D2"
                            d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z" />
                    </svg>
                    Sign in with Google
                </button>
            </mat-card-content>

            <mat-card-footer class="text-center pb-4 mt-1">
                <a href="#" class="text-decoration-none small text-secondary">Forgot Password?</a>
                <div class="text-center mt-3">
                    <span class="text-muted small">Don't have an account? </span>
                    <a [routerLink]="['/signup']" class="text-primary fw-bold text-decoration-none small">SignUp</a>
                </div>
            </mat-card-footer>
        </mat-card>
    </div>

</section>
